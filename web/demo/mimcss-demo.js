!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("mim-tsplay"),require("mimbl"),require("mimcl"),require("mimcss")):"function"==typeof define&&define.amd?define(["mim-tsplay","mimbl","mimcl","mimcss"],t):"object"==typeof exports?exports["mimcss-demo"]=t(require("mim-tsplay"),require("mimbl"),require("mimcl"),require("mimcss")):e["mimcss-demo"]=t(e["mim-tsplay"],e.mimbl,e.mimcl,e.mimcss)}(this,(function(e,t,s,i){return(()=>{"use strict";var r={234:t=>{t.exports=e},993:e=>{e.exports=t},217:e=>{e.exports=s},29:e=>{e.exports=i}},l={};function o(e){var t=l[e];if(void 0!==t)return t.exports;var s=l[e]={exports:{}};return r[e](s,s.exports,o),s.exports}o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{o.r(n);var e=o(234),t=o(993),s=o(217),i=o(29);class r extends i.StyleDefinition{constructor(){super(...arguments),this.paramsArea=this.$gridarea(),this.demoArea=this.$gridarea(),this.resultArea=this.$gridarea(),this.cssResultArea=this.$gridarea(),this.masterGrid=this.$class({overflow:"hidden",display:"grid",gridTemplateColumns:["auto","auto"],gridTemplateRows:["auto","auto","auto"],gridTemplateAreas:[[this.paramsArea,1,1,1,1],[this.demoArea,1,2,1,2],[this.resultArea,2,1,2,2],[this.cssResultArea,3,1,3,2]]}),this.panel=this.$class({border:[1,"solid","lightgrey"],placeSelf:"stretch",minWidth:200,padding:8}),this.paramsPane=this.$class({"+":this.panel,gridArea:this.paramsArea,display:"flex",flexDirection:"column",alignItems:"flex-start",gap:16}),this.demoPane=this.$class({"+":this.panel,gridArea:this.demoArea,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around"}),this.resultPane=this.$class({"+":this.panel,gridArea:this.resultArea}),this.cssResultPane=this.$class({"+":this.panel,gridArea:this.cssResultArea}),this.controlBox=this.$class({display:"flex",flexDirection:"column",alignItems:"flex-start",gap:4}),this.controlRow=this.$class({display:"flex",flexDirection:"row",alignItems:"center",gap:4})}}let l=i.activate(r);class a extends t.Component{constructor(e,s){super(),this._events=t.createMultiEventSlot(),this.items=e,this._selectedItemID=s||(e.length>0?"string"==typeof e[0]?e[0]:e[0][0]:null)}get events(){return this._events}get selectedItemID(){return this._selectedItemID}set selectedItemID(e){this._selectedItemID=e,this.updateMe()}willUnmount(){this._events.change.clear()}render(){return t.jsx("select",{change:this.onItemSelected},this.items.map((e=>{let s,i;"string"==typeof e?s=i=e:(s=e[0],i=e[1]);let r=s===this._selectedItemID;return t.jsx("option",{value:s,selected:r},i)})))}onItemSelected(e){let t=e.target.value;this._selectedItemID=t,this._events.change.fire(t)}}var d=function(e,t,s,i){var r,l=arguments.length,o=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(l<3?r(o):l>3?r(t,s,o):r(t,s))||o);return l>3&&o&&Object.defineProperty(t,s,o),o};class h extends t.Component{constructor(e,s=1,r=!1){super(),this.onNamedColorSelected=e=>{this.onNamedColorChanged()},this.onSystemColorSelected=e=>{this.updateSelectedColor(e)},this._events=t.createMultiEventSlot(),this.namedColorPicker=new a(Array.from(Object.keys(i.Colors))),this.namedColorPicker.events.change.attach(this.onNamedColorSelected),this.systemColorPicker=new a(["ActiveText","ButtonFace","ButtonText","Canvas","CanvasText","Field","FieldText","GrayText","Highlight","HighlightText","LinkText","VisitedText"]),this.systemColorPicker.events.change.attach(this.onSystemColorSelected),this.setSelectedColor(e,s,r)}get events(){return this._events}get selectedColor(){return this._selectedColor}setSelectedColor(e,t=1,s=!1){null==e&&(e="black"),"string"==typeof e?e in i.Colors?(this.valueKind="Named",this.namedColorPicker.selectedItemID=e,this.buildNamedColor(e,s)):"transparent"===e?(this.valueKind="Transparent",this.updateSelectedColor(e)):"currentcolor"===e?(this.valueKind="Current",this.updateSelectedColor(e)):(this.valueKind="System",this.systemColorPicker.selectedItemID=e,this.updateSelectedColor(e)):(this.buildHexColor(e,t,s),this.valueKind="Hex",this.hexInput&&(this.hexInput.value=e.toString(16)))}get selectedMimcssColorString(){return this._selectedMimcssColorString}willUnmount(){this._events.change.clear()}render(){let e="Named"===this.valueKind,s="Hex"===this.valueKind,r="System"===this.valueKind;return t.jsx("div",{class:l.controlBox},t.jsx("div",{class:l.controlRow},t.jsx("input",{type:"radio",name:"valueKind",id:"Named",checked:e,click:this.onValueKindChanged}),t.jsx("label",{for:"Named"},"named"),t.jsx("div",{class:l.controlRow,style:{visibility:e?"visible":"hidden"}},this.namedColorPicker,t.jsx("label",{for:"namedAlphaInput"},"alpha"),t.jsx("label",{for:"namedInvertInput"},"inverted"),t.jsx("input",{type:"checkbox",id:"namedInvertInput",ref:this.namedInvertInput,defaultCheck:!1,input:this.onNamedColorChanged}))),t.jsx("div",{class:l.controlRow},t.jsx("input",{type:"radio",name:"valueKind",id:"Hex",checked:s,click:this.onValueKindChanged}),t.jsx("label",{for:"Hex"},"hexadecimal"),t.jsx("div",{class:l.controlRow,style:{visibility:s?"visible":"hidden"}},t.jsx("input",{type:"text",ref:this.hexInput,defaultValue:(0).toString(),size:6,input:this.onHexColorChanged,style:{textTransform:"uppercase",textAlign:"center"}}),t.jsx("input",{type:"color",ref:this.hexPickerInput,input:this.onHexPickerChanged}),t.jsx("label",{for:"hexAlphaInput"},"alpha"),t.jsx("input",{type:"number",id:"hexAlphaInput",ref:this.hexAlphaInput,min:0,max:1,step:.1,defaultValue:"1",input:this.onHexColorChanged,style:{width:i.em(4)}}),t.jsx("label",{for:"hexInvertInput"},"inverted"),t.jsx("input",{type:"checkbox",id:"hexInvertInput",ref:this.hexInvertInput,defaultCheck:!1,input:this.onHexColorChanged}))),t.jsx("div",{class:l.controlRow},t.jsx("input",{type:"radio",name:"valueKind",id:"System",checked:r,click:this.onValueKindChanged}),t.jsx("label",{for:"System"},"system"),t.jsx("span",{style:{visibility:r?"visible":"hidden"}},this.systemColorPicker)),t.jsx("div",{class:l.controlRow},t.jsx("input",{type:"radio",name:"valueKind",id:"Transparent",checked:"Transparent"===this.valueKind,click:this.onValueKindChanged}),t.jsx("label",{for:"Transparent"},"transparent")),t.jsx("div",{class:l.controlRow},t.jsx("input",{type:"radio",name:"valueKind",id:"Current",checked:"Current"===this.valueKind,click:this.onValueKindChanged}),t.jsx("label",{for:"Current"},"currentcolor")))}onValueKindChanged(e){this.valueKind=e.target.id,"Named"===this.valueKind?this.onNamedColorChanged():"Hex"===this.valueKind?this.onHexColorChanged():"System"===this.valueKind?this.updateSelectedColor(this.systemColorPicker.selectedItemID):"Transparent"===this.valueKind?this.updateSelectedColor("transparent"):"Current"===this.valueKind&&this.updateSelectedColor("currentcolor")}onNamedColorChanged(){this.buildNamedColor(this.namedColorPicker.selectedItemID,this.namedInvertInput.checked)}onHexColorChanged(){this.buildHexColor(parseInt(this.hexInput.value,16),parseFloat(this.hexAlphaInput.value),this.hexInvertInput.checked)}onHexPickerChanged(){let e=parseInt(this.hexPickerInput.value.substr(1),16);isNaN(e)&&(e=0),this.hexInput.value=e.toString(16).toUpperCase(),this.onHexColorChanged()}buildNamedColor(e,t){let s=e;if(t){let t=i.Colors[e];t=0===t?16777215:16777215===t?0:-t,s=t}this.updateSelectedColor(s,void 0)}buildHexColor(e,t,s){let i;isNaN(e)&&(e=0),isNaN(t)&&(t=1),s&&(e=0===e?16777215:16777215===e?0:-e);let r=e;if(0===t)r="transparent";else if(t<1){r+=e>=0?t:-t;let s=e>=0?"+":"-";i=`(${e>=0?"":"-"}0x${(e=e>=0?e:-e).toString(16)} ${s} ${t})`}this.updateSelectedColor(r,i)}updateSelectedColor(e,t){this._selectedColor=e,t?this._selectedMimcssColorString=t:"string"==typeof e?this._selectedMimcssColorString=`"${e}"`:"number"==typeof e&&(this._selectedMimcssColorString=e>=0?"0x"+e.toString(16):"-0x"+(-e).toString(16)),this._events.change.fire(e,this._selectedMimcssColorString)}}d([t.trigger],h.prototype,"valueKind",void 0),d([t.ref],h.prototype,"namedInvertInput",void 0),d([t.ref],h.prototype,"hexAlphaInput",void 0),d([t.ref],h.prototype,"hexInvertInput",void 0),d([t.ref],h.prototype,"hexInput",void 0),d([t.ref],h.prototype,"hexPickerInput",void 0);var c=function(e,t,s,i){var r,l=arguments.length,o=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(l<3?r(o):l>3?r(t,s,o):r(t,s))||o);return l>3&&o&&Object.defineProperty(t,s,o),o};let u="solid";class p extends s.Dialog{constructor(e){super(void 0,`Style property '${e}'`),this.onStyleChanged=e=>{this.style=e},this.onColorChanged=(e,t)=>{this.color=e,this.mimcssColorString=t},this.propName=e,this.addButton({id:"ok",content:"OK",callback:()=>this.onOKClicked()}),this.addButton({id:"cancel",content:"Cancel",returnValue:null}),this.size=4,this.style=u,this.color="black",this.stylePicker=new a(["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"],u),this.stylePicker.events.change.attach(this.onStyleChanged),this.colorPicker=new h,this.colorPicker.events.change.attach(this.onColorChanged),this.mimcssColorString=this.colorPicker.selectedMimcssColorString}renderBody(){return t.jsx("div",{class:l.masterGrid},this.renderParams,this.renderDemo,this.renderResult,this.renderCssResult)}renderParams(){return t.jsx("div",{class:l.paramsPane},t.jsx("div",{class:e.sharedStyles.vbox},t.jsx("strong",null,"Size"),t.jsx("input",{type:"text",defaultValue:4..toString(),input:this.onSizeChanged})),t.jsx("div",{class:e.sharedStyles.vbox},t.jsx("strong",null,"Style"),this.stylePicker),t.jsx("div",{class:e.sharedStyles.vbox},t.jsx("strong",null,"Color"),this.colorPicker))}renderDemo(){return t.jsx("div",{class:l.demoPane},t.jsx("div",{style:{[this.propName]:[this.size,this.style,this.color],width:100,height:100}}))}renderResult(){return t.jsx("div",{class:l.resultPane},t.jsx("span",null,t.jsx("strong",null,"Mimcss: ")),t.jsx("span",null,this.result))}renderCssResult(){return t.jsx("div",{class:l.cssResultPane},t.jsx("span",null,t.jsx("strong",null,"CSS: ")),t.jsx("span",null,this.cssResult))}onSizeChanged(e){let t=e.target.value;this.size=parseFloat(t),isNaN(this.size)&&(this.size=1)}async onOKClicked(){this.close(this.result)}get result(){let e="string"==typeof this.size?`"${this.size}"`:this.size.toString();return`${this.propName}: [${e}, "${this.style}", ${this.mimcssColorString}],`}get cssResult(){return`${this.propName}: ${i.getStylePropValue(this.propName,[this.size,this.style,this.color])};`}}c([t.computed],p.prototype,"result",null),c([t.computed],p.prototype,"cssResult",null),c([t.trigger],p.prototype,"size",void 0),c([t.trigger],p.prototype,"style",void 0),c([t.trigger],p.prototype,"color",void 0),c([t.trigger],p.prototype,"mimcssColorString",void 0),e.registerExtension(class{static get displayName(){return"mimcss-demo"}getExtraLibs(){return null}getExamples(){return null}getCodeSnippets(){return[{category:"Properties",name:"Border",description:"Defines 'border' style property'",createSnippet:async()=>await new p("border").showModal()}]}})})(),n})()}));